
{% load crispy_forms_tags %}
{% load bootstrap4 %}
{% load static %}


<!-- Modal -->
<div class="modal fade modal-xl" id="app-hans-ent-actor-upload-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h1 class="modal-title fs-4" id="exampleModalLabel">Upload Actor: [[ data_actor.name ]]</h1>
				&nbsp; 
				<!-- 
					Icons  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				--> 
				<div class="text-center">
					<button @click="f_hans_ent_actor_profile_modal(data_actor.id)" class="btn" data-bs-toggle="modal" data-bs-target="#app-hans-ent-actor-profile-modal">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-bounding-box" viewBox="0 0 16 16">
							<path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5M.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5"/>
							<path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
						</svg>                            
					</button>
					&nbsp;
				</div>
				<button type="button" @click="f_modal_close" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<div class="modal-body">
				<div>
					<table  class="table">
						<!-- 문서 Title -->
						<!--
							배우 커버 이미지 등록 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
						-->
						<tr>
							<td rowspan="6" width="30%">
								<div class="text-end">
									<button @click="f_remove_registered_actor_cover_image(data_actor.id)" class="btn" >
										<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
											<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
											<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
										</svg>
									</button>
								</div>

								<div v-for="item in active_list_dict_profile_album" :key="item.id">
                                    <img :src="BASE_DIR_ACTOR+item.cover" width="200">
                                </div>
									
								<div>
                                    <input type="file" @change="f_file_actor_cover_selected" class="form-control" id="id_upolad_actor_cover_image_to_db">
									<button type="button" class="btn btn-dark btn-sm"  @click="f_upload_cover_image" >Upload</button>
                                </div>		
									
							</td>
						
							<!--
								이름 등록 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
							-->
							<th style="background-color:rgb(240,240,240,0.5)">
								이름
							</th>
							<td >
								<div v-if="selected_actor_id == null">
									[[ input_text_name ]]
								</div>
								<div v-else>
									[[ data_actor.name ]]
								</div>
							</td>
							<td style="background-color:rgb(255,255,255,0.05)">
								<input type="text" @keyup.enter="f_actor_search_by_name" v-model="input_text_name" class="form-control" placeholder="Hit Enter Key for Search" id="id_upload_actor_search_by_name">
							</td>
						</tr>

						<!--
							프로필 사진 등록 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
						-->
						<tr>
							<th style="background-color:rgb(240,240,240,0.5)">
								프로필 이미지 업로드
							</th>
							<td >
								<div>
									File을 업로드 하세요.
								</div>
							</td>
							<td style="background-color:rgb(255,255,255,0.05)">
								<input type="file" @change="f_file_actor_images_select" multiple class="form-control" id="id_upolad_actor_gallery_image_to_db">
							</td>
						</tr>


						<!--
							생일 등록 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
						-->
						<tr>
							<th style="background-color:rgb(240,240,240,0.5)">
								생일
							</th>
							<td >
								<div v-if="selected_actor_id == null">
									[[ input_date_birthday ]]
								</div>
								<div v-else>
									[[ data_actor.date_birth ]]
								</div>
							</td>
							<td style="background-color:rgb(255,255,255,0.05)">
								<input type="date" @keyup.enter="f_input_date_birthday" v-model="input_date_birthday" class="form-control" placeholder="Hit Enter Key for Search">
							</td>
						</tr>

						<!--
							타입 선택 등록 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
						-->
						<tr>
							<th style="background-color:rgb(240,240,240,0.5)">
								타입 선택 
							</th>
							<td style="background-color:rgb(255,255,255,0.05)">
								<div>
									Type: 
									<div class="form-group">
										<select class="form-control" @change="f_select_actor_type" v-model="selected_actor_type">
											<option 
											v-for="(item, index) in LIST_ACTOR_TYPES" :key="index" :value="item[0]" >
												[[ item[1] ]]
											</option>
										</select>
									</div>
								</div>
							</td>
							<td style="background-color:rgb(255,255,255,0.05)">
								Sub Type:
								<div class="form-group">
									<select class="form-control"  v-model="selected_actor_sub_type" >
										<option v-for="(item, index) in LIST_ACTOR_SUB_TYPES" :key="index" :value="item[0]">
											[[ item[1] ]]
										</option>
									<select>
								</div>
							</td>
						</tr>

						<!--
							사이트 등록 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
						-->
						<tr>
							<th style="background-color:rgb(240,240,240,0.5)">
								관련 사이트 이름
								<input type="text" @change="f_input_actor_info_site_name" v-model="input_actor_info_site_name" class="form-control" id="id_upload_actor_info_site_name">
							</th>
							<td >
								관련 사이트 주소(URL)
								<input type="text" @change="f_input_actor_info_site_url" v-model="input_actor_info_site_url" class="form-control" id="id_upload_actor_info_site_url">
								<button type="button" class="btn btn-dark btn-sm"  @click="f_upload_actor_website_url" >Upload</button>
							</td>
							<td style="background-color:rgb(255,255,255,0.05)">
								<div v-if="actor_info_site_url != null">
									<div v-for="(key, index) in data_actor.actor_info_site_url" :key="key" class="card" >
										<a :href="[[key]]" target="_blank">
											[[ index ]]
										</a>
									</div>
								</div>
							</td>
						</tr>

					</table>
				</div>

				<!--
					배우 검색 결과 표시 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				-->
				<div v-if="list_serialized_data_actor != null">
					<div class="text-end">
						<button @click="f_fold_searched_actor_list()" class="btn" >
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
								<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
								<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
							</svg>
						</button>
					</div>

					<div class="gallery-container">
						<div v-for="(data_item, index) in list_serialized_data_actor" :key="index" class="card" >
							<div class="box">
								<div class="card-body">
									<div v-if="data_item.image_cover">
										<button @click="f_select_actor_to_merge(data_item.id)" class="btn" >
											<img :src="data_item.image_cover" width="200">
										</button>
									</div>
									<div v-else>
										<button @click="f_select_actor_to_merge(data_item.id)" class="btn" >
											<img :src="[[ data_item.cover_image_url ]]" width="200">
										</button>
									</div>
									<div class="text-center">
										[[ data_item.name ]] 
										<button @click="f_select_actor_to_update(data_item.id)" class="btn" >
											<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
												<path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"/>
											</svg>
										</button>
									</div>  
								</div>
							</div>
						</div>
					</div>
				</div>
				
				
				<!-- Registered Images -->
				<!--
					등록된 사진 표시 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
				-->
				<div v-if="list_actor_picture_id != null">
					<div v-if="dict_actor_key_fullsize_value_thumbnail_image_path != null">
					<hr>
						<div class="gallery-container">
							<div v-for="(key, index) in Object.keys(dict_actor_key_fullsize_value_thumbnail_image_path)" :key="key" class="card" >
								<a :href="key" target="_blank">
									<img v-bind:src="dict_actor_key_fullsize_value_thumbnail_image_path[key]" >
									<div class="text-overlay">[[ index ]]</div>
								</a>
							</div>
						</div>
					</div>
				</div>
				
			
			</div>

			<div class="modal-footer">
				<button v-if="selected_actor_id != null" type="button" class="btn btn-warning"  @click="f_select_actor_to_delete(selected_actor_id)" data-bs-dismiss="modal">Delete</button>
				<button type="button" class="btn btn-secondary" @click="f_modal_close" data-bs-dismiss="modal">Close</button>
				<button type="button" class="btn btn-primary"  @click="f_upload_form" >Upload</button>
			</div>
		
		</div>
	</div>
</div>



<script>
	var post_hans_ent_actor_upload_modal = createApp({
		delimiters: ["[[", "]]"],
		data() {
		return {
            BASE_DIR_ACTOR : '',
			data_actor : {},
            list_dict_profile_album: [],
			
			input_text_name: '',
			input_actor_info_site_name: '',
			input_actor_info_site_url: '',
			input_date_birthday: '',
			actor_info_site_url: null,
			
			selected_serialized_data_actor: null,
			list_serialized_data_actor: null,

			total_num_registered_item: null,
			list_actor_picture_id: null,
			selected_actor_id: null,
			selected_actor_name: null,
			image_cover: '',
			images:'',
			

			dict_actor_key_fullsize_value_thumbnail_image_path: null,

			progress_value: 0,
			progress_max: 100,
			progress_min: 0,
			show_progress: false,

			status_cover_image_upload: false, // True 파일 업로드 input창이 활성화
		}
		},
		methods: {
			refreshData() {
				console.log('actor upload GET!')
				axios.get('/hans_ent_actor_upload_modal/')
				.then((response) => {
					this.LIST_ACTOR_TYPES = response.data['LIST_ACTOR_TYPES']
				})
			},

			f_sync_data_to_actor_upload_modal(data) {
                this.BASE_DIR_ACTOR = data['BASE_DIR_ACTOR']
				this.data_actor = data['selected_serialized_data_actor']
                this.list_dict_profile_album = this.data_actor['list_dict_profile_album']
				this.selected_actor_id = this.data_actor['id']
				console.log('Actor List로부터 upload로 데이터 수신 완료', this.selected_actor_id)
			},
			
			f_reset_return() {
				this.input_text_name = ''
				this.input_date_birthday = ''
				this.input_actor_info_site_name = ''
				this.input_actor_info_site_url = ''
				this.data_actor = {}
				this.list_serialized_data_actor = null
				this.total_num_registered_item = null
				this.selected_serialized_data_actor = null 
				this.selected_actor_id = null
				this.selected_actor_name = null
				// this.hans_ent_menu_selected = null
				this.selected_actor_type = null
				this.selected_actor_sub_type = null
				this.image_cover =''
				this.images =''
				this.list_actor_picture_id = null
				this.dict_actor_key_fullsize_value_thumbnail_image_path = null
				this.status_cover_image_upload = false
				this.progress_value = 0
				this.progress_max = 100
				this.progress_min = 0
				this.show_progress = false
				$('#id_upolad_actor_cover_image_to_db').val("");
				$('#id_upload_actor_search_by_name').val("");
				$('#id_upolad_actor_gallery_image_to_db').val("");
			},

			f_remove_registered_actor_cover_image(event) {
				this.selected_actor_id = event
				console.log(event)
				const isConfirmed = window.confirm("커버 이미지를 정말 삭제하시겠습니까?");
				if (isConfirmed) {
					axios.post('/hans_ent_actor_upload_modal/', {
						'button': 'remove_cover_image',
						'selected_actor_id': this.selected_actor_id,
					}, {
					headers: {
						'Content-Type': 'multipart/form-data',
						'X-CSRFToken': "{{ csrf_token }}"
					}
					})
					.then((response) => {
						console.log(response.data)
						this.data_actor = response.data['selected_serialized_data_actor']
                        this.list_dict_profile_album = this.data_actor['list_dict_profile_album']
					})
					.catch(() => {
						console.log('Error! f_hans_ent_actor_profile_modal')
					})
				} else {
					alert("삭제가 취소되었습니다.");
				}
				
			},

			async f_upload_cover_image() {
				let formData = new FormData();
				console.log('upload files!')
				formData.append('image_type', 'image_cover');
				formData.append('image_cover', this.image_cover)
				formData.append('selected_actor_id', this.selected_actor_id)
				this.show_progress = true;
				try {
					await axios.post('/hans_ent_actor_upload_modal/', formData, {
					headers: {
						'Content-Type': 'multipart/form-data',
						'X-CSRFToken': "{{ csrf_token }}"
					},
					onUploadProgress: progressEvent => {
					this.progress_value = parseInt(Math.round((progressEvent.loaded / progressEvent.total) * 100))}
					})
					.then((response) => {
						$('#id_upolad_actor_cover_image_to_db').val("");
						this.show_progress = false;
						this.progress_value = 0
						this.data_actor = response.data['selected_serialized_data_actor']
						this.list_actor_picture_id = this.data_actor['list_actor_picture_id']
						this.input_text_name = this.data_actor['name']
						this.selected_actor_id = this.data_actor['id']
						this.status_cover_image_upload = false
						console.log('커버이미지 업로드, selected_actor_id', this.selected_actor_id)
                    })
					// alert('Upload successful');
				} catch (error) {
					console.error('Error uploading images:', error);
				}
			},

			async f_upload_form() {
				let formData = new FormData();
				if (this.images != null) {
					for (let i = 0; i < this.images.length; i++) {
						formData.append('images', this.images[i]);
				}}
				formData.append('image_type', 'gallery_image');
				formData.append('selected_actor_id', this.selected_actor_id);
				formData.append('input_text_name', this.input_text_name)
				formData.append('input_date_birthday', this.input_date_birthday)
				formData.append('input_actor_info_site_name', this.input_actor_info_site_name)
				formData.append('input_actor_info_site_url', this.input_actor_info_site_url)
				formData.append('selected_actor_type', this.selected_actor_type)
				formData.append('selected_actor_sub_type', this.selected_actor_sub_type)
				this.show_progress = true;
				try {
					await axios.post('/hans_ent_actor_upload_modal/', formData, {
					headers: {
						'Content-Type': 'multipart/form-data',
						'X-CSRFToken': "{{ csrf_token }}"
					},
					onUploadProgress: progressEvent => {
					this.progress_value = parseInt(Math.round((progressEvent.loaded / progressEvent.total) * 100))}
					})
					.then((response) => {
						$('#id_upolad_actor_gallery_image_to_db').val("");
						this.data_actor = response.data['selected_serialized_data_actor']
						this.selected_actor_id = this.data_actor['id']
						this.selected_actor_name = this.data_actor['name']
						this.input_date_birthday = this.data_actor['date_birth']
						this.selected_actor_type = this.data_actor['types']
						this.list_actor_picture_id = this.data_actor['list_actor_picture_id']
						this.dict_actor_key_fullsize_value_thumbnail_image_path = response.data['dict_actor_key_fullsize_value_thumbnail_image_path']
						this.show_progress = false;
						this.progress_value = 0
						
						console.log('모델 정보 업로드완료! ', response.data)
                    })
					alert('Upload successful');
				} catch (error) {
					console.error('Error uploading images:', error);
				}
			},

			f_select_actor_to_merge(event) {
				console.log(event)
				const isConfirmed = window.confirm("모델 정보 합치기를 승인하시겠습니까?");
				if (isConfirmed) {
					alert("모델 합치기를 승인하였습니다.");
						axios.post('/hans_ent_actor_upload_modal/', {
						'alternative_actor_id': event,
						'selected_actor_id': this.selected_actor_id,
						'button': 'select_to_merge'
					}, {
					headers: {
						'Content-Type': 'multipart/form-data',
						'X-CSRFToken': "{{ csrf_token }}"
					}
					})
					.then((response) => {
						this.data_actor = response.data['selected_serialized_data_actor']
						
						this.selected_actor_id = this.data_actor['id']
						this.selected_actor_name = this.data_actor['name']
						this.list_actor_picture_id = this.data_actor['list_actor_picture_id']
						this.input_text_name = this.selected_actor_name
						this.dict_actor_key_fullsize_value_thumbnail_image_path = response.data['dict_actor_key_fullsize_value_thumbnail_image_path']
					})
					.catch(() => {
						console.log('Error! f_hans_ent_actor_profile_modal')
					})
				} else {
					alert("모델 합치기를 취소하였습니다.");
					// Code to execute if user clicked "Cancel" (No)
				}
			},

			// const isConfirmed = window.confirm("정말 모델 정보를 삭제하시겠습니까?");
			// 	if (isConfirmed) {} else {
			// 		alert("삭제가 취소되었습니다.ㄴ");
			// 	}

			f_select_actor_to_delete(event) {
				console.log('delete actor id', event)
				console.log(event)
				const isConfirmed = window.confirm("정말 모델 정보를 삭제하시겠습니까?");
				if (isConfirmed) {
					alert("모델 삭제를 승인하였습니다.");
					axios.post('/hans_ent_actor_upload_modal/', {
						'selected_actor_id': event,
						'modal': 'actor_delete',
						'list_serialized_data_actor': this.list_serialized_data_actor
					}, {
					headers: {
						'Content-Type': 'multipart/form-data',
						'X-CSRFToken': "{{ csrf_token }}"
					}
					})
					.then((response) => {
						this.list_serialized_data_actor = response.data['list_serialized_data_actor']
						// this.refreshData()
					})
					.catch(() => {
						console.log('Error! f_select_actor_to_delete')
						
					}) 
				} else {
					alert("삭제가 취소되었습니다.ㄴ");
				}
			},

			
			f_actor_search_by_name(event) {
				this.input_text_name = event.target.value
				searchData = this.input_text_name
                axios.get('/hans_ent_album_upload_actor_search/?keyword='+searchData)
                .then((response) => {
                    this.list_serialized_data_actor = response.data['list_serialized_data_actor']
                })
                .catch(() => {
                    console.log('Error! f_search_keyword_update')
                })
			},
			
			f_file_actor_images_select(event) {
			this.images = event.target.files
			},

			f_input_date_birthday(event) {
				this.input_date_birthday = event.target.value
				console.log(this.input_date_birthday)
			},
		
			f_file_actor_cover_selected(event) {
				this.image_cover = event.target.files[0]
				console.log(this.image_cover)
			},

			f_input_actor_info_site_name(event) {
				this.input_actor_info_site_name = event.target.value
				console.log(this.input_actor_info_site_name)
			},

			f_input_actor_info_site_url(event) {
				this.input_actor_info_site_url = event.target.value
				console.log(this.input_actor_info_site_url)
			},
			
			f_fold_searched_actor_list() {
				this.list_serialized_data_actor = null
			},

			f_upload_actor_website_url(event) {
				console.log(event)
				axios.post('/hans_ent_actor_upload_modal/', {
                    'button': 'website_url',
					'selected_actor_id': this.selected_actor_id,
					'input_actor_info_site_name': this.input_actor_info_site_name,
					'input_actor_info_site_url': this.input_actor_info_site_url,
                }, {
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'X-CSRFToken': "{{ csrf_token }}"
                }
                })
                .then((response) => {
					console.log(response.data)
					this.data_actor = response.data['selected_serialized_data_actor']
					this.actor_info_site_url = this.data_actor
					this.dict_actor_key_fullsize_value_thumbnail_image_path = response.data['dict_actor_key_fullsize_value_thumbnail_image_path']
					$('#id_upload_actor_info_site_name').val("");
					$('#id_upload_actor_info_site_url').val("");
                })
                .catch(() => {
                    console.log('Error! f_hans_ent_actor_profile_modal')
                })
			},

			f_select_actor_type(event) {
				console.log('################### 3' , event.target.value)
				this.selected_actor_type = event.target.value
				axios.post('/hans_ent_actor_upload_modal/', {
                    'selected_actor_id': this.selected_actor_id,
					'selected_actor_type': this.selected_actor_type,
                }, {
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'X-CSRFToken': "{{ csrf_token }}"
                }
                })
                .then((response) => {
					console.log(response.data)
					this.data_actor = response.data['selected_serialized_data_actor']
					this.LIST_ACTOR_TYPES = response.data['LIST_ACTOR_TYPES']
					this.LIST_ACTOR_SUB_TYPES = response.data['LIST_ACTOR_SUB_TYPES']
				})
			},

			// icon pannel
            f_hans_ent_actor_profile_modal(event) {
                this.selected_actor_id = event
                console.log('### Send Data to Actor Profile Modal with Selected Actor ID: ', this.selected_actor_id)
                axios.post('/hans_ent_actor_profile_modal/', {
                    'selected_actor_id': this.selected_actor_id,
                }, {
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'X-CSRFToken': "{{ csrf_token }}"
                }
                })
                .then((response) => {
                    post_hans_ent_actor_profile_modal.f_sync_data_to_actor_profile_modal(response.data);
                    console.log('Actor Upload로부터 Actor Profile Modal로 Data 송신 완료', data)
                })
                .catch(() => {
                    console.log('Error! Actor Upload로부터 Actor Profile Modal로 Data 송신 오류')
                })
            },

            f_hans_ent_actor_gallery_modal(event) {
                this.selected_actor_id = event
                console.log(this.selected_actor_id)
				axios.post('/hans_ent_actor_gallery_modal/', {
                    'selected_actor_id': event,
                    'modal': 'gallery'
                }, {
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'X-CSRFToken': "{{ csrf_token }}"
                }
                })  
                .then((response) => {
                    console.log('모델리스트에서 모델 갤러리로 정보 전송 시작', response.data)
                    post_hans_ent_actor_gallery_modal.f_sync_data_actor_list_to_gallery(response.data)
                })
                .catch(() => {
                    console.log('Error! f_hans_ent_actor_upload_modal')
                })
            },

            f_hans_ent_actor_upload_modal(event) {
                this.selected_actor_id = event
                console.log(this.selected_actor_id)
				axios.post('/hans_ent_actor_upload_modal/', {
                    'selected_actor_id': event,
                    'modal': 'upload'
                }, {
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'X-CSRFToken': "{{ csrf_token }}"
                }
                })  
                .then((response) => {
                    console.log('모델리스트에서 모델 업로드로 정보 전송 시작', response.data)
                    post_hans_ent_actor_upload_modal.f_sync_data_actor_list_to_upload(response.data)
                })
                .catch(() => {
                    console.log('Error! f_hans_ent_actor_upload_modal')
                })
            },

			
			f_modal_close() {},

		},
		computed: {
            active_list_dict_profile_album() {
                return this.list_dict_profile_album.filter(item => item.active === "true")
            }
        },
        mounted: function() {
			this.refreshData()
		}
	}).mount('#app-hans-ent-actor-upload-modal')

	
    $('#app-hans-ent-actor-upload-modal').on('hidden.bs.modal', function () {
		post_hans_ent_actor_list.refreshData()
		post_hans_ent_actor_upload_modal.f_reset_return()
			console.log('Adult actor 업로드 모달창 닫혔음!')
	});
	
	

</script>